<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/style.css" />

    <title>random park spin</title>
  </head>
  <body>
    <div class="container py-5 my-md-5">
      <div class="row align-items-center text-center">
        <div class="col-12">
          <h3 class="mb-2">mobile用<br />ランダムパークチャレンジ</h3>
          <h3 class="mb-4">サバイバー</h3>
          <hr />
          <div class="row align-items-center text-center">
            <div class="col-6 col-md-3 py-md-5" id="reel1">
              <img class="symbol-img" src="./img/dbd.png" alt="symbol" />
              <p class="symbol-text mt-2 mb-0 text-center">---</p>
              <p class="user mt-1 text-center">---</p>
            </div>
            <div class="col-6 col-md-3 py-md-5" id="reel2">
              <img class="symbol-img" src="./img/dbd.png" alt="symbol" />
              <p class="symbol-text mt-2 mb-0">---</p>
              <p class="user mt-1 text-center">---</p>
            </div>
            <div class="col-6 col-md-3 py-md-5" id="reel3">
              <img class="symbol-img" src="./img/dbd.png" alt="symbol" />
              <p class="symbol-text mt-2 mb-0 text-center">---</p>
              <p class="user mt-1 text-center">---</p>
            </div>
            <div class="col-6 col-md-3 py-md-5" id="reel4">
              <img class="symbol-img" src="./img/dbd.png" alt="symbol" />
              <p class="symbol-text mt-2 mb-0 text-center">---</p>
              <p class="user mt-1 text-center">---</p>
            </div>
          </div>
        </div>

        <div class="col-12 mb-3">
          <button id="spin-button">スタート＆ストップ</button>
        </div>
      </div>
      <hr />
      <div class="row align-items-center text-center">
        <div class="col-12 my-3">
          <h4>チェックを外すと該当キャラのパークがルーレットから外れます</h4>
        </div>
        <div class="col-12 my-3 mb-3">
          <button id="check-all-button">全てのパークを含める</button>
          <button id="uncheck-all-button">全てのパークを外す</button>
          <button id="remember-button">選択状態をブラウザに記憶</button>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="common"
              id="common"
            />
            <label class="form-check-label" for="common"> 共通パーク </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="dowa"
              id="dowa"
            />
            <label class="form-check-label" for="dowa"> ドワイト </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="megu"
              id="megu"
            />
            <label class="form-check-label" for="megu"> メグ </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="kuro"
              id="kuro"
            />
            <label class="form-check-label" for="kuro"> クローデット </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="bill"
              id="bill"
            />
            <label class="form-check-label" for="bill"> ビル </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="jake"
              id="jake"
            />
            <label class="form-check-label" for="jake"> ジェイク </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="nea"
              id="nea"
            />
            <label class="form-check-label" for="nea"> ネア </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="ace"
              id="ace"
            />
            <label class="form-check-label" for="ace"> エース </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="kate"
              id="kate"
            />
            <label class="form-check-label" for="kate"> ケイト </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="davi"
              id="davi"
            />
            <label class="form-check-label" for="davi">
              デイビッド・キング
            </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="fen"
              id="fen"
            />
            <label class="form-check-label" for="fen"> フェンミン </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="jef"
              id="jef"
            />
            <label class="form-check-label" for="jef"> ジェフ </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="kimura"
              id="kimura"
            />
            <label class="form-check-label" for="kimura"> 木村結衣 </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="jane"
              id="jane"
            />
            <label class="form-check-label" for="jane">
              ジェーン・ロメロ
            </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="roll"
              id="roll"
            />
            <label class="form-check-label" for="roll"> ローリー </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="hady"
              id="hady"
            />
            <label class="form-check-label" for="hady"> ハディ・カウル </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="ero"
              id="ero"
            />
            <label class="form-check-label" for="ero"> エロディー </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="rena"
              id="rena"
            />
            <label class="form-check-label" for="rena"> レナート </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="feri"
              id="feri"
            />
            <label class="form-check-label" for="feri">
              フェリックス・リクター
            </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="gabu"
              id="gabu"
            />
            <label class="form-check-label" for="gabu"> ガブリエル </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="zal"
              id="zal"
            />
            <label class="form-check-label" for="zal"> ザリーナ </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="bit"
              id="bit"
            />
            <label class="form-check-label" for="bit"> ビットリオ </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="que"
              id="que"
            />
            <label class="form-check-label" for="que"> クエンティン </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="ash"
              id="ash"
            />
            <label class="form-check-label" for="ash"> アシュレイ・J </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="adom"
              id="adom"
            />
            <label class="form-check-label" for="adom"> アダム </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="jona"
              id="jona"
            />
            <label class="form-check-label" for="jona">
              ジョナ・バスケス
            </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="tap"
              id="tap"
            />
            <label class="form-check-label" for="tap"> チップ刑事 </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="taly"
              id="taly"
            />
            <label class="form-check-label" for="taly"> タリータ </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="nico"
              id="nico"
            />
            <label class="form-check-label" for="nico"> ニコラス </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="asa"
              id="asa"
            />
            <label class="form-check-label" for="asa"> 浅川陽一 </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="lee"
              id="lee"
            />
            <label class="form-check-label" for="lee"> リー・ユンジン </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="mika"
              id="mika"
            />
            <label class="form-check-label" for="mika"> ミカエラ </label>
          </div>
        </div>
        <div class="col-auto p-2 px-3">
          <div class="form-check">
            <input
              class="form-check-input symbol-group"
              type="checkbox"
              value="buy"
              id="buy"
            />
            <label class="form-check-label" for="buy"> 購入パーク </label>
          </div>
        </div>
      </div>
    </div>

    <script>
      document
        .getElementById("remember-button")
        .addEventListener("click", () => {
          const checkedGroups = Array.from(
            document.querySelectorAll(".symbol-group:checked")
          ).map((el) => el.value);

          localStorage.setItem("checkedGroups", JSON.stringify(checkedGroups));
          alert("チェックしたグループが記憶されました。");
        });

      const symbols = [
        {
          img: "./img/unnamed.webp",
          text: "おとり",
          group: "zal",
          user: "ザリーナ",
        },
        {
          img: "./img/ofureko.webp",
          text: "オフレコ",
          group: "zal",
          user: "ザリーナ",
        },
        {
          img: "./img/hitobito.webp",
          text: "人々のために",
          group: "zal",
          user: "ザリーナ",
        },
        {
          img: "./img/tech.webp",
          text: "テクニシャン",
          group: "fen",
          user: "フェンミン",
        },
        {
          img: "./img/sinayaka.webp",
          text: "しなやか",
          group: "fen",
          user: "フェンミン",
        },
        {
          img: "./img/kei.webp",
          text: "警戒",
          group: "fen",
          user: "フェンミン",
        },
        {
          img: "./img/zuttoissyo.webp",
          text: "ずっと一緒だ",
          group: "davi",
          user: "デビキン",
        },
        {
          img: "./img/dehha.webp",
          text: "デッハ",
          group: "davi",
          user: "デビキン",
        },
        {
          img: "./img/yowane.webp",
          text: "弱音はナシだ",
          group: "davi",
          user: "デビキン",
        },
        {
          img: "./img/suba.webp",
          text: "素早く静かに",
          group: "megu",
          user: "メグ",
        },
        {
          img: "./img/adorena.webp",
          text: "アドレナリン",
          group: "megu",
          user: "メグ",
        },
        {
          img: "./img/supuba.webp",
          text: "全力疾走",
          group: "megu",
          user: "メグ",
        },
        {
          img: "./img/break.webp",
          text: "ブレイクダウン",
          group: "jef",
          user: "ジェフ",
        },
        {
          img: "./img/aftercare.webp",
          text: "アフターケア",
          group: "jef",
          user: "ジェフ",
        },
        {
          img: "./img/dist.webp",
          text: "ディストーション",
          group: "jef",
          user: "ジェフ",
        },
        {
          img: "./img/boiru.webp",
          text: "ボイルオーバー",
          group: "kate",
          user: "ケイト",
        },
        {
          img: "./img/dance.webp",
          text: "ダンスウィズミー",
          group: "kate",
          user: "ケイト",
        },
        {
          img: "./img/opo.webp",
          text: "オポチュニティ",
          group: "kate",
          user: "ケイト",
        },
        {
          img: "./img/haga.webp",
          text: "鋼の意思",
          group: "jake",
          user: "ジェイク",
        },
        {
          img: "./img/tama.webp",
          text: "魂の平穏",
          group: "jake",
          user: "ジェイク",
        },
        {
          img: "./img/sabota.webp",
          text: "サボタージュ",
          group: "jake",
          user: "ジェイク",
        },
        {
          img: "./img/sumatyaku.webp",
          text: "スマ着",
          group: "nea",
          user: "ネア",
        },
        {
          img: "./img/seiz.webp",
          text: "都会の生存術",
          group: "nea",
          user: "ネア",
        },
        {
          img: "./img/tous.webp",
          text: "都会の逃走術",
          group: "nea",
          user: "ネア",
        },
        {
          img: "./img/kyokan.webp",
          text: "共感",
          group: "kuro",
          user: "クローデット",
        },
        {
          img: "./img/selfcare.webp",
          text: "セルフケア",
          group: "kuro",
          user: "クローデット",
        },
        {
          img: "./img/bota.webp",
          text: "植物学の知識",
          group: "kuro",
          user: "クローデット",
        },
        {
          img: "./img/leader.webp",
          text: "リーダー",
          group: "dowa",
          user: "ドワイト",
        },
        {
          img: "./img/uno.webp",
          text: "有能の証明",
          group: "dowa",
          user: "ドワイト",
        },
        { img: "./img/kizu.webp", text: "絆", group: "dowa", user: "ドワイト" },
        {
          img: "./img/oki.webp",
          text: "置き去りにされた者",
          group: "bill",
          user: "ビル",
        },
        { img: "./img/fumetu.webp", text: "不滅", group: "bill", user: "ビル" },
        {
          img: "./img/borrow.webp",
          text: "ボロタイ",
          group: "bill",
          user: "ビル",
        },
        {
          img: "./img/titi.webp",
          text: "父の助言",
          group: "asa",
          user: "浅川陽一",
        },
        {
          img: "./img/kyokanteki.webp",
          text: "共感的繋がり",
          group: "asa",
          user: "浅川陽一",
        },
        {
          img: "./img/rekai.webp",
          text: "霊界理論",
          group: "asa",
          user: "浅川陽一",
        },
        {
          img: "./img/syusse.webp",
          text: "出世街道",
          group: "lee",
          user: "リー・ユンジン",
        },
        {
          img: "./img/daihitto.webp",
          text: "大ヒット",
          group: "lee",
          user: "リー・ユンジン",
        },
        {
          img: "./img/bou.webp",
          text: "自己防衛",
          group: "lee",
          user: "リー・ユンジン",
        },
        {
          img: "./img/syunen.webp",
          text: "執念",
          group: "tap",
          user: "タップ刑事",
        },
        {
          img: "./img/keiji.webp",
          text: "刑事の直感",
          group: "tap",
          user: "タップ刑事",
        },
        {
          img: "./img/harikomi.webp",
          text: "張り込み",
          group: "tap",
          user: "タップ刑事",
        },
        {
          img: "./img/sate.webp",
          text: "査定",
          group: "ero",
          user: "エロディー",
        },
        {
          img: "./img/aza.webp",
          text: "欺き",
          group: "ero",
          user: "エロディー",
        },
        {
          img: "./img/seiryoku.webp",
          text: "勢力争い",
          group: "ero",
          user: "エロディー",
        },
        {
          img: "./img/shadow.webp",
          text: "シャドウステップ",
          group: "mika",
          user: "ミカエラ",
        },
        {
          img: "./img/iyasi.webp",
          text: "癒しの輪",
          group: "mika",
          user: "ミカエラ",
        },
        {
          img: "./img/senrigan.webp",
          text: "千里眼",
          group: "mika",
          user: "ミカエラ",
        },
        {
          img: "./img/seizonsya.webp",
          text: "唯一の生存者",
          group: "roll",
          user: "ローリー",
        },
        {
          img: "./img/syunenno.webp",
          text: "執念の対象",
          group: "roll",
          user: "ローリー",
        },
        {
          img: "./img/kessi.webp",
          text: "決死の一撃",
          group: "roll",
          user: "ローリー",
        },
        {
          img: "./img/mewo.webp",
          text: "目を覚ませ",
          group: "que",
          user: "クエンティン",
        },
        {
          img: "./img/nezu.webp",
          text: "寝ずの番",
          group: "que",
          user: "クエンティン",
        },
        {
          img: "./img/cho.webp",
          text: "調整学",
          group: "que",
          user: "クエンティン",
        },
        {
          img: "./img/rent.webp",
          text: "連帯感",
          group: "jane",
          user: "ジェーン",
        },
        {
          img: "./img/heijyo.webp",
          text: "平常心",
          group: "jane",
          user: "ジェーン",
        },
        {
          img: "./img/makko.webp",
          text: "真っ向勝負",
          group: "jane",
          user: "ジェーン",
        },
        {
          img: "./img/kegano.webp",
          text: "怪我の功名",
          group: "kimura",
          user: "木村結衣",
        },
        {
          img: "./img/kyoukou.webp",
          text: "強硬手段",
          group: "kimura",
          user: "木村結衣",
        },
        {
          img: "./img/toppa.webp",
          text: "突破",
          group: "kimura",
          user: "木村結衣",
        },
        {
          img: "./img/dakai.webp",
          text: "打開策",
          group: "jona",
          user: "ジョナ",
        },
        {
          img: "./img/zese.webp",
          text: "是正措置",
          group: "jona",
          user: "ジョナ",
        },
        {
          img: "./img/sisuu.webp",
          text: "指数関数",
          group: "jona",
          user: "ジョナ",
        },
        {
          img: "./img/tehuda.webp",
          text: "手札公開",
          group: "ace",
          user: "エース",
        },
        {
          img: "./img/kirihuda.webp",
          text: "最後の切り札",
          group: "ace",
          user: "エース",
        },
        {
          img: "./img/reiz.webp",
          text: "掛け金のレイズ",
          group: "ace",
          user: "エース",
        },
        { img: "./img/yodo.webp", text: "陽動", group: "adom", user: "アダム" },
        { img: "./img/kai.webp", text: "解放", group: "adom", user: "アダム" },
        {
          img: "./img/doc.webp",
          text: "独学者",
          group: "adom",
          user: "アダム",
        },
        {
          img: "./img/chino.webp",
          text: "血の騒ぎ",
          group: "rena",
          user: "レナート",
        },
        {
          img: "./img/sute.webp",
          text: "共同ステルス",
          group: "rena",
          user: "レナート",
        },
        {
          img: "./img/kage.webp",
          text: "陰の実力者",
          group: "rena",
          user: "レナート",
        },
        {
          img: "./img/sessa.webp",
          text: "切磋琢磨",
          group: "taly",
          user: "タリータ",
        },
        {
          img: "./img/huta.webp",
          text: "二人の力",
          group: "taly",
          user: "タリータ",
        },
        {
          img: "./img/tobo.webp",
          text: "逃亡の飛躍",
          group: "taly",
          user: "タリータ",
        },
        {
          img: "./img/ichi.webp",
          text: "位置エネルギー",
          group: "bit",
          user: "ビットリオ",
        },
        {
          img: "./img/kirino.webp",
          text: "霧の作法",
          group: "bit",
          user: "ビットリオ",
        },
        {
          img: "./img/kaso.webp",
          text: "加速の策略",
          group: "bit",
          user: "ビットリオ",
        },
        {
          img: "./img/suri.webp",
          text: "修理担当者",
          group: "gabu",
          user: "ガブリエル",
        },
        {
          img: "./img/jyo.webp",
          text: "状況適応能力",
          group: "gabu",
          user: "ガブリエル",
        },
        {
          img: "./img/gomi.webp",
          text: "ゴミ漁りの名人",
          group: "gabu",
          user: "ガブリエル",
        },
        {
          img: "./img/geki.webp",
          text: "劇作法",
          group: "nico",
          user: "ニコラス",
        },
        {
          img: "./img/sine.webp",
          text: "シーンの相手役",
          group: "nico",
          user: "ニコラス",
        },
        {
          img: "./img/yoso.webp",
          text: "予想外の展開",
          group: "nico",
          user: "ニコラス",
        },
        {
          img: "./img/toshi.webp",
          text: "透視家",
          group: "feri",
          user: "フェリックス",
        },
        {
          img: "./img/kuni.webp",
          text: "苦肉の策",
          group: "feri",
          user: "フェリックス",
        },
        {
          img: "./img/tai.webp",
          text: "耐久設計",
          group: "feri",
          user: "フェリックス",
        },
        {
          img: "./img/flip.webp",
          text: "フリップフロップ",
          group: "ash",
          user: "アシュレイ",
        },
        {
          img: "./img/belt.webp",
          text: "ベルトを締めろ",
          group: "ash",
          user: "アシュレイ",
        },
        {
          img: "./img/au.webp",
          text: "英雄の奮起",
          group: "ash",
          user: "アシュレイ",
        },
        {
          img: "./img/inner.webp",
          text: "インナーフォーカス",
          group: "hady",
          user: "ハディ",
        },
        {
          img: "./img/zanzo.webp",
          text: "残像の顕現",
          group: "hady",
          user: "ハディ",
        },
        {
          img: "./img/kajyo.webp",
          text: "過剰な熱意",
          group: "hady",
          user: "ハディ",
        },
        {
          img: "./img/tocho.webp",
          text: "盗聴",
          group: "buy",
          user: "購入パーク",
        },
        {
          img: "./img/hansya.webp",
          text: "反射回復",
          group: "buy",
          user: "購入パーク",
        },
        {
          img: "./img/kumo.webp",
          text: "雲隠れ",
          group: "buy",
          user: "購入パーク",
        },
        {
          img: "./img/mina.webp",
          text: "みなぎる活力",
          group: "buy",
          user: "購入パーク",
        },
        {
          img: "./img/ans.webp",
          text: "安心感",
          group: "buy",
          user: "購入パーク",
        },
        {
          img: "./img/zen.webp",
          text: "全集中",
          group: "buy",
          user: "購入パーク",
        },
        {
          img: "./img/counter.webp",
          text: "カウンターフォース",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/kittoge.webp",
          text: "きっとやり遂げる",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/kosodoro.webp",
          text: "コソ泥の本能",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/sutagure.webp",
          text: "スタグレ",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/turuniku.webp",
          text: "ツルツルした肉体",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/dejavu.webp",
          text: "デジャブ",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/renew.webp",
          text: "リニューアル",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/yokan.webp",
          text: "予感",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/utinaru.webp",
          text: "内なる回復",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/neko.webp",
          text: "凍てつく背筋",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/jirai.webp",
          text: "地雷爆破",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/tisana.webp",
          text: "小さな獲物",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/kibo.webp",
          text: "希望",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/kuniku.webp",
          text: "忍苦の時",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/sinjin.webp",
          text: "新人魂",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/jyokyo.webp",
          text: "状況認識",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/yama.webp",
          text: "病も気から",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/kan.webp",
          text: "監視者",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/nin.webp",
          text: "自己認識",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/ketu.webp",
          text: "血族",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/sin.webp",
          text: "親近感",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/dare.webp",
          text: "誰も見捨てはしない",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/kisi.webp",
          text: "起死回生",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/miga.webp",
          text: "身軽",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/gyakk.webp",
          text: "逆境魂",
          group: "common",
          user: "共通パーク",
        },
        {
          img: "./img/yami.webp",
          text: "闇の感覚",
          group: "common",
          user: "共通パーク",
        },
      ];
      const reels = [
        document.getElementById("reel1"),
        document.getElementById("reel2"),
        document.getElementById("reel3"),
        document.getElementById("reel4"),
      ];

      const spinReel = (reel, availableSymbols) => {
        return new Promise((resolve) => {
          let count = 0;
          const interval = setInterval(() => {
            const symbol =
              availableSymbols[
                Math.floor(Math.random() * availableSymbols.length)
              ];
            reel.querySelector(".symbol-img").src = symbol.img;
            reel.querySelector(".symbol-text").textContent = symbol.text;
            reel.querySelector(".user").textContent = symbol.user;
            if (count > 20) {
              clearInterval(interval);
              resolve(symbol);
            }
            count++;
          }, 10);
        });
      };

      document
        .getElementById("spin-button")
        .addEventListener("click", async () => {
          document.getElementById("spin-button").disabled = true;

          const checkedGroups = Array.from(
            document.querySelectorAll(".symbol-group:checked")
          ).map((el) => el.value);
          const availableSymbols = symbols.filter((symbol) =>
            checkedGroups.includes(symbol.group)
          );

          const usedSymbols = [];
          for (const reel of reels) {
            const symbolsForReel = availableSymbols.filter(
              (symbol) =>
                !usedSymbols.some((usedSymbol) => usedSymbol.img === symbol.img)
            );
            if (symbolsForReel.length === 0) {
              alert("選択されたグループに対応するシンボルがありません。");
              continue;
            }
            const symbol = await spinReel(reel, symbolsForReel);
            usedSymbols.push(symbol);
          }
          document.getElementById("spin-button").disabled = false;
        });

      document
        .getElementById("check-all-button")
        .addEventListener("click", () => {
          const checkboxes = document.querySelectorAll(".symbol-group");
          checkboxes.forEach((checkbox) => {
            checkbox.checked = true;
          });
        });

      document
        .getElementById("uncheck-all-button")
        .addEventListener("click", () => {
          const checkboxes = document.querySelectorAll(".symbol-group");
          checkboxes.forEach((checkbox) => {
            checkbox.checked = false;
          });
        });

      window.addEventListener("load", () => {
        const savedGroups = JSON.parse(localStorage.getItem("checkedGroups"));
        if (savedGroups) {
          savedGroups.forEach((group) => {
            const checkbox = document.querySelector(
              `.symbol-group[value="${group}"]`
            );
            console.log(checkbox);
            if (checkbox) {
              checkbox.checked = true;
            }
          });
        }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
